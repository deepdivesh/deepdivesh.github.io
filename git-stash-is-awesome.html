<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="//gmpg.org/xfn/11" rel="profile">

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css?1547810432158703000">
  <link rel="stylesheet" href="/public/css/syntax.css?1547810432158703000">
  <link rel="stylesheet" href="/public/css/lanyon.css?1547810432158703000">
  <link href="https://fonts.googleapis.com/css?family=Lora|Open+Sans:300,700" rel="stylesheet">

  <!-- Icons -->
  <link rel="icon" sizes="32x32" href="/public/favicon-32.png">
  <link rel="icon" sizes="16x16" href="/public/favicon-16.png">

  <link rel="apple-touch-icon" sizes="152x152" href="/public/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/public/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/public/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" href="/public/apple-touch-icon-60x60.png">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">

  <!-- Begin Jekyll SEO tag v2.5.0 -->
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="Git stash is awesome" />
<meta name="author" content="Hrvoje Šimić" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I really like git stash command. It lets you save your current progress and rollback the head state to the last commit." />
<meta property="og:description" content="I really like git stash command. It lets you save your current progress and rollback the head state to the last commit." />
<link rel="canonical" href="http://shime.sh/git-stash-is-awesome" />
<meta property="og:url" content="http://shime.sh/git-stash-is-awesome" />
<meta property="og:site_name" content="Hrvoje Šimić" />
<meta property="og:image" content="http://shime.sh/public/social.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2012-01-16T00:00:00+01:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@shime_sh" />
<meta name="twitter:creator" content="@shime_sh" />
<script type="application/ld+json">
{"headline":"Git stash is awesome","dateModified":"2012-01-16T00:00:00+01:00","datePublished":"2012-01-16T00:00:00+01:00","author":{"@type":"Person","name":"Hrvoje Šimić"},"description":"I really like git stash command. It lets you save your current progress and rollback the head state to the last commit.","mainEntityOfPage":{"@type":"WebPage","@id":"http://shime.sh/git-stash-is-awesome"},"@type":"BlogPosting","image":"http://shime.sh/public/social.jpg","url":"http://shime.sh/git-stash-is-awesome","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <title> Git stash is awesome &middot; Hrvoje Šimić </title>
	<meta name="title" content="Git stash is awesome &middot; Hrvoje Šimić">
</head>


  <body>
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <ul class="masthead-navigation">
            
              <li>
                
                  <a href='/articles'>Articles</a>
                
              </li>
            
              <li>
                
                  <a href='/photography'>Photography</a>
                
              </li>
            
              <li>
                
                  <a href='/reading'>Reading list</a>
                
              </li>
            
          </ul>
        </div>
        <div class="clear"></div>
      </div>

      <div class="container content">
        <div class="post">
  <div class="post-meta">
    <h1 class="post-title">Git stash is awesome</h1>
    <div class="published">
      16 Jan 2012 in
      git
    </div>
  </div>
  <p>I really like <code>git stash</code> command. It lets you save your current progress and rollback the head state to the last commit.</p>

<p>Let&#39;s say this is my current situation:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>$ git status

<span class="c1"># On branch master</span>
<span class="c1"># Changes not staged for commit:</span>
<span class="c1">#   (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span class="c1">#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span>
<span class="c1">#</span>
<span class="c1"># modified:   Gemfile.lock</span>
<span class="c1"># modified:   Rakefile</span>
<span class="c1"># modified:   _config.yml</span>
<span class="c1">#</span>
<span class="c1"># Untracked files:</span>
<span class="c1">#   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span>
<span class="c1">#</span>
<span class="c1"># sass/</span>
<span class="c1"># source/</span>
no changes added to commit <span class="o">(</span>use <span class="s2">&quot;git add&quot;</span> and/or <span class="s2">&quot;git commit -a&quot;</span><span class="o">)</span>
</code></pre></div>
<p>We&#39;re going to save everything into stash.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>$ git add .
$ git stash save
$ git status

<span class="c1"># On branch source</span>
nothing to commit <span class="o">(</span>working directory clean<span class="o">)</span>
</code></pre></div>
<p>So it basically cleaned up the working directory.
This comes very handy when you have to fix something on your last commit, but you already made some progress on the other part of your application.
With this command you basically put your changes elsewhere and you&#39;re able to commit that fix.</p>

<p>After the ordinary <code>git add -A &amp;&amp; git commit &amp;&amp; git push</code> command flow, you can issue <code>git stash list</code>. This shows you the current stash status.</p>

<p>You can have multiple items in your stash, and when you do it&#39;s very handy to mark them with messages like this:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>git stash save <span class="s2">&quot;started to work on task 3.2&quot;</span>
</code></pre></div>
<p>So let&#39;s say you got multiple items in your stash:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>$ git stash list

stash@<span class="o">{</span><span class="m">0</span><span class="o">}</span>: WIP on master: e106412 <span class="nb">test</span> fix and price display fix
stash@<span class="o">{</span><span class="m">1</span><span class="o">}</span>: On master: fixing humanized attributes
</code></pre></div>
<p>If you execute <code>git stash apply</code> now, the last added item will be pulled out of the stash and merged with master (stashes really follow LIFO principle).
We can still merge an item named “fixing humanized attributes” like this:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>$ git stash apply stash@<span class="o">{</span><span class="m">1</span><span class="o">}</span>.
</code></pre></div>
<p>This is not the only scenario where stash comes handy. It also does when you wish to switch branches, rollback states, but would like to keep your current changes.</p>

<p>It&#39;s also nice to clean up your stash regularly so you don&#39;t get lost in too many items. You can do that with <code>git stash clear</code>, but be careful with it since it doesn&#39;t ask you to confirm your little stashocide.</p>


  <div class='bottom'>
    <section class="author">
      <img src='/public/shime.jpg' alt='' />
      <div>
      <h4>Hrvoje Šimić</h4>
      <p class="bio">
        <a href="https://twitter.com/shime_sh">
          @shime_sh
        </a>

        <small>
          I'm a Ruby developer focused on building MVPs with Ruby on Rails.
        </small>
      </p>
      </div>
    </section>
  </div>
</div>

      </div>
    </div>
  </body>
</html>
